<!--pages/travelPlanPreview/travelPlanPreview.wxml-->

<view class="travel-plan-title-container">
  <input class="travel-plan-title" 
    style="font-size:{{titleFontSize}}rpx;width:{{titleLength === 0 ? titleFontSize*6 : titleFontSize*titleLength}}rpx;"
    placeholder="定制新计划名" 
    model:value="{{ planName }}"
    bindinput="onTitleInput"
    bindfocus="onTitleFocus"
    bindblur="onTitleBlur" />
  <image class="travel-plan-title-modifiable-note" 
    src="/images/modifiable.png" 
    wx:if="{{titleBlurred}}" />
</view>

<view class="custom-argument-display-container">
  <view class="custom-arg-display-title">配置信息</view>
  <view class="custom-arg-item" wx:for="{{customArg}}">
    {{index}} : {{item}}
  </view>
</view>

<view class="travel-plan-map-container">
  <map class="tencent-map" longitude="{{mapLongitude}}" latitude="{{mapLatitude}}" id="preview-map" show-location
       markers="{{mapMarkers}}"></map>
</view>

<view class="travel-plans-display-container">
  <van-tabs animated active="{{plansActive}}" bind:change="onTabChange" color="rgba(30,144,255,1.0)">
    <van-tab wx:for="{{travelPlansList}}" wx:key="unique" title="方案{{index+1}}">
      <my-movable-list class="scene-movable-list"
        planNo="{{index}}" tarList="{{item}}" 
        bind:synctarlistchange="onSyncTarListChange"
        bind:syncreselect="onSyncReselect">
      </my-movable-list>
    </van-tab>
  </van-tabs>
</view>

<view class="travel-plan-footer-container">
  <button class="regen-button"
    style="visibility:hidden">
    占位而已
  </button>
  <button class="submit-button" 
    hover-class="button-hover" 
    bindtap="onConfirmPlan">
    确认方案
  </button>
  <button class="regen-button"
    hover-class="button-hover"
    bindtap="onRefreshPlan">
    <image src="/images/refresh.png" class="refresh-image" />
  </button>
</view>